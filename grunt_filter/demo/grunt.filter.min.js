function attachTableFilterWithSuggest({searchInputId:e,tableBodyId:t,categorySelectId:l=null,nameColumnIndex:n=0,categoryColumnIndex:i=1,dateColumnIndex:r=null,fromDateInputId:a=null,toDateInputId:o=null,caseSensitive:u=!1,debounceTime:d=0,onFilter:s=null,enableSuggest:c=!0,maxSuggestions:g=5}){var f,h;let p=document.getElementById(e),y=document.getElementById(t),m=l?document.getElementById(l):null,v=a?document.getElementById(a):null,E=o?document.getElementById(o):null;if(!p||!y)return;let $=e=>u?e.trim():e.toLowerCase().trim(),x=e=>{let t=new Date(e);return isNaN(t)?null:t},b=c?document.createElement("ul"):null;b&&(Object.assign(b.style,{position:"absolute",zIndex:"9999",listStyle:"none",margin:0,padding:0,border:"1px solid #ccc",backgroundColor:"#222",color:"#fff",fontSize:"0.9rem",maxHeight:"200px",overflowY:"auto",display:"none"}),document.body.appendChild(b),p.addEventListener("blur",()=>{setTimeout(()=>b.style.display="none",120)}));let C=e=>{if(!b)return;let t=Array.from(y.querySelectorAll("tr")),l=[];for(let i of t){let r=i.cells;if(!r||0===r.length)continue;let a=$(r[n]?.textContent||"");if(a.includes(e)&&!l.includes(a)&&(l.push(a),l.length>=g))break}for(;b.firstChild;)b.removeChild(b.firstChild);l.forEach(e=>{let t=document.createElement("li");t.textContent=e,Object.assign(t.style,{padding:"5px 10px",cursor:"pointer"}),t.addEventListener("mousedown",()=>{p.value=e,L()}),b.appendChild(t)});let o=p.getBoundingClientRect();b.style.left=`${o.left+window.scrollX}px`,b.style.top=`${o.bottom+window.scrollY}px`,b.style.width=`${o.width}px`,b.style.display=l.length?"block":"none"},L=()=>{let e=$(p.value),t=m?.value||"",l=v?.value?x(v.value):null,a=E?.value?x(E.value):null,o=0;Array.from(y.querySelectorAll("tr")).forEach(u=>{let d=u.cells;if(!d||0===d.length)return;let s=$(d[n]?.textContent||""),c=d[i]?.getAttribute("data-cat-id")||"",g=null!==r?d[r]?.textContent.trim():"",f=null!==r?x(g):null,h=!e||s.includes(e),p=h&&(!t||c===t)&&(null===r||(!l||f&&f>=l)&&(!a||f&&f<=a));u.style.display=p?"":"none",p&&o++}),"function"==typeof s&&s(o)},S,w=d>0?(f=()=>{L(),c&&C($(p.value))},h=d,(...e)=>{clearTimeout(S),S=setTimeout(()=>f(...e),h)}):()=>{L(),c&&C($(p.value))};p.addEventListener("input",w),m&&m.addEventListener("change",w),v&&v.addEventListener("change",w),E&&E.addEventListener("change",w)}window.attachTableFilterWithSuggest=attachTableFilterWithSuggest;